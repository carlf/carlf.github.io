<!doctype html><html lang=en-us>
<head>
<title>Colophon // carlf.io</title>
<link rel="shortcut icon" href=/favicon.ico>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.88.1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Carl Flippin">
<meta name=description content>
<link rel=stylesheet href=https://carlf.io/css/main.min.cfa4efd6f516c90e3f3f8692e1264b978f517381578de437ea5a85e5d5bfa27d.css>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Colophon">
<meta name=twitter:description content="This blog is managed with a monolithic org file representing all posts and Hugo managing the generation of the HTML. Some people just manage their blogs using org directly but using Hugo as an intermediary makes some things like theming easier and allows me to continue to work in org for my blog. This post goes over the major moving parts.
Hugo Installation If you are on a Mac, installation is very simple.">
<meta property="og:title" content="Colophon">
<meta property="og:description" content="This blog is managed with a monolithic org file representing all posts and Hugo managing the generation of the HTML. Some people just manage their blogs using org directly but using Hugo as an intermediary makes some things like theming easier and allows me to continue to work in org for my blog. This post goes over the major moving parts.
Hugo Installation If you are on a Mac, installation is very simple.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://carlf.io/posts/colophon/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-06T00:00:00+00:00">
<meta property="article:modified_time" content="2021-09-06T00:00:00+00:00">
</head>
<body>
<header class=app-header>
<a href=https://carlf.io><img class=app-header-avatar src=/avatar.png alt="Carl Flippin"></a>
<h1>carlf.io</h1>
<nav class=app-header-menu>
<a class=app-header-menu-item href=/>Home</a>
-
<a class=app-header-menu-item href=/index.xml>RSS</a>
-
<a class=app-header-menu-item href=/tags>Tags</a>
</nav>
<p>I'm just as confused as the rest of you</p>
<div class=app-header-social>
<a href=https://github.com/carlf target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>My Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
<a href=https://keyoxide.org/hkp/50f1a8d452b5c094a656ce6aac084c5eec19856d target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-key"><title>My GPG Key</title><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5.0 11-7.778 7.778 5.5 5.5.0 017.777-7.777zm0 0L15.5 7.5m0 0 3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
</a>
</div>
</header>
<main class=app-container>
<article class=post>
<header class=post-header>
<h1 class=post-title>Colophon</h1>
<div class=post-meta>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Sep 6, 2021
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
3 min read
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=https://carlf.io/tags/meta/>meta</a>
<a class=tag href=https://carlf.io/tags/org/>org</a>
<a class=tag href=https://carlf.io/tags/hugo/>hugo</a>
</div>
</div>
</header>
<div class=post-content>
<p>This blog is managed with a monolithic org file representing all posts and Hugo
managing the generation of the HTML. Some people just manage their blogs using
org directly but using Hugo as an intermediary makes some things like theming
easier and allows me to continue to work in org for my blog. This post goes over
the major moving parts.</p>
<h2 id=hugo>Hugo</h2>
<h3 id=installation>Installation</h3>
<p>If you are on a Mac, installation is very simple. All it requires is a <code>brew install hugo</code>. On linux, your package manager may be of use but some distros
like Ubuntu tend to offer fairly vintage versions. For that reason, it may be
simpler to just download the static binary and put it somewhere in your path.
You can verify Hugo is installed correctly with <code>hugo version</code></p>
<h3 id=initial-site-generatiok>Initial Site Generatiok</h3>
<p>Once Hugo is installed, you want to generate a skeleton site. In my case this
was as simple as <code>hugo new site carlf.github.io -f yml</code>. This generates a new
empty skeleton the <code>-f yml</code> tells the generator that I would like to use yaml
for my config. Other options include json and toml. I&rsquo;m fairly comfortable with
yaml so I went with that but they should be equivalent in practice.</p>
<h3 id=initialize-go-dot-mod>Initialize go.mod</h3>
<p>In older versions of Hugo, the common practice was to check out things like
themes as submodules. This is not always ideal as submodules make initial
checkout trickier and removing them is a hassle. See
<a href=https://www.hugofordevelopers.com/articles/master-hugo-modules-managing-themes-as-modules/>here</a>
for more details. To initialize your website as a module, run the following:</p>
<div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hugo mod init github.com/carlf/carlf.github.io</code></pre></div>
<h3 id=configure-hugo>Configure Hugo</h3>
<p>Now we need to configure Hugo so we get some decent looking output. The major
parts here are picking a theme and configuring it. Here I have chosen the
<a href=https://github.com/vaga/hugo-theme-m10c>m10c</a> theme. There are many available.
Take a look at <a href=https://themes.gohugo.io/>Hugo Themes</a> for more choices.</p>
<p>My config ended up looking like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#616e87;font-style:italic># config.yml</span>
<span style=color:#81a1c1>baseURL</span><span style=color:#eceff4>:</span> https://carlf.io
<span style=color:#81a1c1>languageCode</span><span style=color:#eceff4>:</span> en-us
<span style=color:#81a1c1>title</span><span style=color:#eceff4>:</span> carlf.io
<span style=color:#81a1c1>theme</span><span style=color:#eceff4>:</span> github.com/vaga/hugo-theme-m10c

<span style=color:#81a1c1>markup</span><span style=color:#eceff4>:</span>
  <span style=color:#81a1c1>highlight</span><span style=color:#eceff4>:</span>
    <span style=color:#81a1c1>guessSyntax</span><span style=color:#eceff4>:</span> <span style=color:#81a1c1;font-weight:700>true</span>
    <span style=color:#81a1c1>style</span><span style=color:#eceff4>:</span> nord
  <span style=color:#81a1c1>tableOfContents</span><span style=color:#eceff4>:</span>
    <span style=color:#81a1c1>endLevel</span><span style=color:#eceff4>:</span> <span style=color:#b48ead>3</span>
    <span style=color:#81a1c1>ordered</span><span style=color:#eceff4>:</span> <span style=color:#81a1c1;font-weight:700>false</span>
    <span style=color:#81a1c1>startLevel</span><span style=color:#eceff4>:</span> <span style=color:#b48ead>2</span>

<span style=color:#81a1c1>params</span><span style=color:#eceff4>:</span>
  <span style=color:#81a1c1>author</span><span style=color:#eceff4>:</span> Carl Flippin
  <span style=color:#81a1c1>description</span><span style=color:#eceff4>:</span> I&#39;m just as confused as the rest of you
  <span style=color:#81a1c1>avatar</span><span style=color:#eceff4>:</span> avatar.png
  <span style=color:#81a1c1>social</span><span style=color:#eceff4>:</span>
    - <span style=color:#81a1c1>icon</span><span style=color:#eceff4>:</span> github
      <span style=color:#81a1c1>name</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;My Github&#34;</span>
      <span style=color:#81a1c1>url</span><span style=color:#eceff4>:</span> https://github.com/carlf
    - <span style=color:#81a1c1>icon</span><span style=color:#eceff4>:</span> key
      <span style=color:#81a1c1>name</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;My GPG Key&#34;</span>
      <span style=color:#81a1c1>url</span><span style=color:#eceff4>:</span> https://keyoxide.org/hkp/50f1a8d452b5c094a656ce6aac084c5eec19856d
  <span style=color:#81a1c1>style</span><span style=color:#eceff4>:</span>
    <span style=color:#81a1c1>darkestColor</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;#2e3440&#34;</span>
    <span style=color:#81a1c1>darkColor</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;#3b4252&#34;</span>
    <span style=color:#81a1c1>lightColor</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;#d8dee9&#34;</span>
    <span style=color:#81a1c1>lightestColor</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;#eceff4&#34;</span>
    <span style=color:#81a1c1>primaryColor</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;#8fbcbb&#34;</span>

<span style=color:#81a1c1>menu</span><span style=color:#eceff4>:</span>
  <span style=color:#81a1c1>main</span><span style=color:#eceff4>:</span>
    - <span style=color:#81a1c1>identifier</span><span style=color:#eceff4>:</span> home
      <span style=color:#81a1c1>name</span><span style=color:#eceff4>:</span> Home
      <span style=color:#81a1c1>url</span><span style=color:#eceff4>:</span> /
    - <span style=color:#81a1c1>identifier</span><span style=color:#eceff4>:</span> tags
      <span style=color:#81a1c1>name</span><span style=color:#eceff4>:</span> Tags
      <span style=color:#81a1c1>url</span><span style=color:#eceff4>:</span> /tags
    - <span style=color:#81a1c1>identifier</span><span style=color:#eceff4>:</span> rss
      <span style=color:#81a1c1>name</span><span style=color:#eceff4>:</span> RSS
      <span style=color:#81a1c1>url</span><span style=color:#eceff4>:</span> /index.xml</code></pre></div>
<p>Note that my theme is referenced by github URL rather than a simple name. This is enabled by the <code>hugo mod init</code> above.</p>
<h2 id=ox-hugo>ox-hugo</h2>
<p>For generation of the markdown used in Hugo, we use
<a href=https://ox-hugo.scripter.co/>ox-hugo</a>. This module allows you to write your
blog posts in regular old org but to export them as markdown suitable for Hugo&rsquo;s
blackfriday markdown parser. It allows us to operate on org, which we are all
comfortable with, but still take advantage of the conventiences of Hugo.</p>
<h3 id=installation>Installation</h3>
<p>I am using <a href=https://github.com/hlissner/doom-emacs>doom emacs</a> so enabling
ox-hugo was as simple as:</p>
<div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=color:#eceff4>(</span>doom! <span style=color:#81a1c1>:lang</span>
       <span style=color:#eceff4>(</span>org +hugo<span style=color:#eceff4>))</span></code></pre></div>
<p>If you are rolling your own emacs, it is available
<a href=https://melpa.org/#/ox-hugo>here</a> on MELPA as a package. If you are using the
popular <a href=https://github.com/jwiegley/use-package>use-package</a> macro, you could
do the following:</p>
<div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=color:#eceff4>(</span><span style=color:#81a1c1>use-package</span> ox-hugo
  <span style=color:#81a1c1>:ensure</span> <span style=color:#8fbcbb>t</span>
  <span style=color:#81a1c1>:after</span> ox<span style=color:#eceff4>)</span></code></pre></div>
</div>
<div class=post-footer>
</div>
</article>
</main>
</body>
</html>